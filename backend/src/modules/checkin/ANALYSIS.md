# Daily Check-in Module Notes

Last updated: 2026-02-15

## Endpoints

Controller: `backend/src/modules/checkin/checkin.controller.ts`

- `GET  /api/v1/checkins` (JWT) — returns `{ dates: string[] }`
  - Optional query: `from=YYYY-MM-DD`, `to=YYYY-MM-DD`
  - Default: returns last ~400 check-ins for the user (sorted ascending)
- `POST /api/v1/checkins` (JWT) — creates or returns a check-in
  - Body: `{ dateKey?: "YYYY-MM-DD" }`
  - Returns: `{ dateKey, created, createdAt }`

## Behavior

- The "day key" (`dateKey`) is a **string** (`YYYY-MM-DD`) and is intended to be computed client-side.
- Day rollover matches the frontend reminder: **05:00 local time** (00:00–04:59 counts as previous day).
- `POST /api/v1/checkins` is idempotent per user+dateKey (duplicate creates return `{ created: false }`).

<!-- AUTO-GENERATED:BEGIN -->
## Auto-Generated Snapshot

This section is generated by `scripts/gen-analysis-md.mjs`. Manual edits inside this block will be overwritten.

### Scope
- Directory: `backend/src/modules/checkin`

### Detected Routes (NestJS)
- `GET  /api/v1/checkins` (backend/src/modules/checkin/checkin.controller.ts)
- `POST /api/v1/checkins` (backend/src/modules/checkin/checkin.controller.ts)

### File Tree (depth <= 3)
```text
ANALYSIS.md
checkin.controller.ts
checkin.module.ts
checkin.service.ts
dto/
dto/create-checkin.dto.ts
dto/list-checkins-query.dto.ts
```
<!-- AUTO-GENERATED:END -->
