#!/usr/bin/env bash
set -euo pipefail

if ! command -v node >/dev/null 2>&1; then
  echo "pre-commit: node not found; skipping ANALYSIS.md generation" >&2
  exit 0
fi

node scripts/gen-analysis-md.mjs

# Stage generated docs without staging unrelated working tree changes.
git add -u -- ':(glob)**/ANALYSIS.md'
